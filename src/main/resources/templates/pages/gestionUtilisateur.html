<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html
        lang="en"
        class="light-style layout-menu-fixed"
        dir="ltr"
        data-theme="theme-default"
        data-assets-path="../assets/"
        data-template="vertical-menu-template-free"
        xmlns:sec="http://www.thymeleaf.org/extras/spring-security"

>
<head>
  <meta charset="utf-8" />
  <meta
          name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
  />

  <title>TaskMaster</title>

  <meta name="description" content="" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="img/favicon.ico" />

  <!-- Data table ikns-->
  <link href="css/datatables.min.css" rel="stylesheet">


  <!-- Icons. Uncomment required icon fonts -->
  <link rel="stylesheet" href="css/boxicons.css" />
  <link rel="stylesheet" href="css/boxicons.css" />
  <link rel="stylesheet" href="css/page-auth.css" />
  <!-- Core CSS -->
  <link rel="stylesheet" href="css/core.css" class="template-customizer-core-css" />
  <link rel="stylesheet" href="css/theme-default.css" class="template-customizer-theme-css" />
  <link rel="stylesheet" href="css/demo.css" />

  <!-- Vendors CSS -->
  <link rel="stylesheet" href="css/perfect-scrollbar.css" />

  <link rel="stylesheet" href="css/apex-charts.css" />
  <link rel="stylesheet" href="css/page-auth.css" />
  <!-- Page CSS -->

  <link rel="stylesheet" href="css/myCss.css" />
  <!-- Helpers -->
  <script src="js/helpers.js"></script>

  <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
  <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
  <script src="js/config.js"></script>
</head>
<body>
<!--/spinner div-->
<div class="spinner-wrapper">
  <div id="loading-spinner" class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
<!--/spinner div-->

<!--nav-->
<div class="container-fluid h-px-75   px-0" >
  <nav class="navbar navbar-expand-lg Mycolor fixed-top">
    <div class="container-fluid">
      <a href="javascript:void(0);" class="app-brand-link gap-2">
              <span class=" bg-body">
                <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                     width="50px" height="50px"  x="0px" y="0px"
                     viewBox="0 0 336.9 336.9" style="enable-background:new 0 0 336.9 336.9;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#057050;}
    .st1{fill:#A6A6A6;}
    .st2{fill:#A6A6A6;stroke:#057050;stroke-width:0.5;stroke-miterlimit:10;}
    .st3{fill:#057050;stroke:#057050;stroke-width:0.5;stroke-miterlimit:10;}
</style>
<g id="Calque_2_00000180335086302922040240000006952645069349629334_">
	<g id="Calque_1-2">
		<polygon class="st0" points="199.2,211 104.8,211 153.2,38.8 247.6,38.8 		"/>
		<polygon class="st1" points="57.8,197.4 24.9,197.4 24.9,202.5 56.4,202.5 58.5,202.5 102.8,202.5 137.9,77.7 91.4,77.7 		"/>
		<polygon class="st1" points="254.1,197.4 287.8,77.7 241.3,77.7 206.3,202.5 249.3,202.5 252.7,202.5 312,202.5 312,197.4 		"/>
		<path class="st2" d="M84.5,260.7H68.2l4.5-27.1H78l-3.8,22.9h11.1L84.5,260.7z"/>
		<path class="st2" d="M105.6,255c-1.9,4.1-4.8,6.2-8.8,6.2c-2.3,0.1-4.6-0.8-6.2-2.4c-1.6-1.8-2.4-4.1-2.3-6.5
			c-0.1-3.2,0.9-6.2,2.9-8.7c1.8-2.3,4.5-3.6,7.4-3.5c2.3-0.2,4.6,0.8,6.1,2.6c1.5,2,2.2,4.5,2.1,7c0,0.5,0,1-0.1,1.6H92.7
			c-0.1,0.5-0.1,1-0.1,1.5c-0.1,1.3,0.3,2.6,1.1,3.7c0.8,0.9,1.9,1.5,3.1,1.4c2.1,0,3.7-1.2,4.8-3.8L105.6,255z M102.5,248.2
			c0-3.4-1.3-5.1-4-5.1s-4.5,1.7-5.3,5.1H102.5z"/>
		<path class="st2" d="M119.5,260.7l4.5-27.1h8c1.5,0,3,0.1,4.4,0.5c1.2,0.4,2.3,1,3.3,1.9c1.1,1.1,2,2.4,2.6,3.9
			c0.7,1.8,1,3.8,1,5.7c0,2.4-0.5,4.9-1.4,7.1c-0.8,1.9-1.9,3.7-3.5,5.1c-1.1,1.1-2.5,1.9-4,2.3c-1.8,0.4-3.7,0.6-5.5,0.5H119.5z
			 M125.2,256.6h4.3c1.2,0,2.4-0.1,3.5-0.6c1-0.5,1.8-1.1,2.5-1.9c0.9-1.2,1.6-2.5,1.9-3.9c0.5-1.7,0.7-3.5,0.7-5.3
			c0-1.4-0.2-2.7-0.7-4c-0.4-1.1-1.2-2-2.2-2.5c-1.2-0.6-2.6-0.8-3.9-0.8h-2.9L125.2,256.6z"/>
		<path class="st2" d="M150,260.7h-4.7l3.4-20.2h4.7L150,260.7z M153.8,238.2h-4.7l0.8-4.9h4.7L153.8,238.2z"/>
		<path class="st2" d="M159.9,260.7h-4.5l3.4-20.2h4.1L162,246c1.7-4,4.1-6.1,7-6.1c0.1,0,0.3,0,0.5,0l-0.6,5h-1
			c-1.1,0-2.2,0.3-3.1,0.9c-1,0.6-1.7,1.4-2.3,2.4c-0.7,1.5-1.2,3.2-1.4,4.9L159.9,260.7z"/>
		<path class="st2" d="M187.2,255c-1.9,4.1-4.8,6.2-8.8,6.2c-2.3,0.1-4.6-0.8-6.2-2.4c-1.6-1.8-2.4-4.1-2.3-6.5
			c-0.1-3.2,0.9-6.2,2.9-8.7c1.8-2.3,4.5-3.6,7.4-3.6c2.3-0.2,4.6,0.8,6.1,2.6c1.5,2,2.2,4.5,2.1,7c0,0.5,0,1-0.1,1.6h-13.9
			c-0.1,0.5-0.1,1-0.1,1.5c-0.1,1.3,0.3,2.6,1.1,3.7c0.8,0.9,1.9,1.5,3.1,1.4c2.1,0,3.7-1.2,4.8-3.8L187.2,255z M184.1,248.2
			c0-3.4-1.3-5.1-4-5.1s-4.5,1.7-5.3,5.1H184.1z"/>
		<path class="st2" d="M207.8,254.7c-1.9,4.3-4.8,6.4-8.6,6.4c-2.2,0.1-4.3-0.8-5.8-2.4c-1.6-1.9-2.4-4.3-2.2-6.7
			c-0.1-3.1,0.9-6.1,2.8-8.5c1.6-2.3,4.2-3.6,6.9-3.6c1.9-0.1,3.8,0.6,5.3,1.8c1.5,1.4,2.4,3.2,2.7,5.2l-3.8,0.7c-0.5-2.7-1.9-4-4-4
			c-1.6,0-2.8,0.9-3.8,2.7c-1,1.9-1.5,4-1.5,6.1c-0.1,1.3,0.3,2.7,1.1,3.7c0.7,0.7,1.6,1.1,2.6,1.1c2,0,3.5-1.3,4.5-4L207.8,254.7z"
        />
		<path class="st2" d="M219.7,260.8c-0.9,0.2-1.9,0.3-2.8,0.3c-1.5,0.1-3-0.3-4.1-1.3c-0.8-0.8-1.3-1.9-1.3-3.1
			c0.1-1.2,0.2-2.4,0.5-3.6l1.5-8.9h-3l0.6-3.6h3l1.2-5.4l4.1-0.3l-1,5.7h4.4l-0.6,3.6h-4.4l-1.5,9c-0.1,0.7-0.2,1.4-0.3,2.1
			c0,1.3,1,1.9,2.9,1.9c0.5,0,1-0.1,1.4-0.1L219.7,260.8z"/>
		<path class="st2" d="M240.4,255c-1.9,4.1-4.8,6.2-8.8,6.2c-2.3,0.1-4.6-0.8-6.2-2.4c-1.6-1.8-2.4-4.1-2.3-6.5
			c-0.1-3.2,0.9-6.2,2.9-8.7c1.7-2.3,4.5-3.6,7.4-3.6c2.3-0.2,4.6,0.8,6.1,2.6c1.5,2,2.2,4.5,2.1,7c0,0.5,0,1-0.1,1.6h-13.9
			c-0.1,0.5-0.1,1-0.1,1.5c-0.1,1.3,0.3,2.6,1.1,3.7c0.8,0.9,1.9,1.5,3.1,1.4c2.1,0,3.7-1.2,4.8-3.8L240.4,255z M237.2,248.2
			c0-3.4-1.3-5.1-4-5.1s-4.5,1.7-5.3,5.1H237.2z"/>
		<path class="st2" d="M260,260.7h-4.1l0.7-4.4c-1.7,3.2-4,4.8-6.9,4.8c-1.4,0.1-2.7-0.5-3.7-1.5c-0.8-0.9-1.3-2.2-1.3-3.4
			c0.1-1.3,0.3-2.7,0.5-4l1.9-11.6h4.5l-2.1,12.5c-0.1,0.7-0.2,1.4-0.3,2.1c0,0.6,0.2,1.1,0.6,1.6c0.4,0.4,1,0.6,1.6,0.6
			c1,0,2-0.5,2.8-1.1c0.9-0.7,1.6-1.6,2-2.6c0.5-1.4,0.9-2.9,1.1-4.5l1.4-8.6h4.5L260,260.7z"/>
		<path class="st2" d="M269.9,260.7h-4.5l3.4-20.2h4.1L272,246c1.7-4,4.1-6.1,7-6.1c0.1,0,0.3,0,0.5,0l-0.6,5h-1
			c-1.1,0-2.2,0.3-3.1,0.9c-1,0.6-1.7,1.4-2.3,2.4c-0.7,1.5-1.2,3.2-1.4,4.9L269.9,260.7z"/>
		<path class="st3" d="M98.6,297.6h-5l4.5-27.1h16.7l-0.7,4.3h-11.7l-1.2,7.3h9.8l-0.7,4h-9.7L98.6,297.6z"/>
		<path class="st2" d="M118.3,297.6h-4.7l3.4-20.2h4.7L118.3,297.6z M122,275.1h-4.7l0.8-4.9h4.7L122,275.1z"/>
		<path class="st2" d="M140.1,297.6h-4.4l2.1-12.1c0.1-0.8,0.2-1.6,0.2-2.4c0-0.7-0.2-1.3-0.6-1.9c-0.5-0.5-1.2-0.8-1.9-0.8
			c-1.5,0.1-2.8,0.8-3.6,2.1c-1.2,1.8-1.9,3.9-2.2,6l-1.5,9.1h-4.5l3.4-20.2h4.1l-0.8,4.7c1.3-2.4,2.4-3.8,3.5-4.4
			c1-0.5,2-0.8,3.1-0.9c2.9-0.1,5.4,2.3,5.5,5.2c0,0.2,0,0.3,0,0.5c0,1.1-0.2,2.3-0.4,3.4L140.1,297.6z"/>
		<path class="st2" d="M162.3,297.6H158c0-0.4,0-0.6,0-0.9c0-1.2,0.1-2.3,0.4-3.5c-0.6,1.4-1.6,2.7-2.9,3.6
			c-1.2,0.9-2.6,1.3-4.1,1.3c-1.6,0.1-3.2-0.5-4.4-1.7c-1.1-1.1-1.7-2.6-1.7-4.1c0-2.2,1.1-4.3,3-5.4c2-1.3,5.2-2,9.5-2
			c0.6,0,1.2,0,1.9,0.1c0.1-0.5,0.1-1,0.1-1.5c0.1-1-0.4-1.9-1.1-2.5c-0.8-0.6-1.8-0.9-2.8-0.8c-2-0.1-3.8,1-4.7,2.8l-4-1.2
			c1.7-3.3,4.6-4.9,8.9-4.9c2.1-0.1,4.3,0.5,6,1.7c1.4,1.1,2.2,2.8,2.2,4.5c-0.2,2.2-0.5,4.3-1,6.4c-0.5,2.3-0.8,4.6-1,6.9
			C162.3,296.8,162.3,297.2,162.3,297.6z M159.3,287.3c-3.5,0.2-5.9,0.6-7.2,1.4c-1.2,0.6-2,1.8-2,3.2c0,0.8,0.3,1.5,0.8,2
			c0.6,0.5,1.4,0.8,2.2,0.8c1.4,0,2.8-0.7,3.8-1.8C158.2,291.3,159,289.3,159.3,287.3z"/>
		<path class="st2" d="M183.8,297.6h-4.4l2.1-12.1c0.1-0.8,0.2-1.6,0.2-2.4c0-0.7-0.2-1.3-0.6-1.9c-0.5-0.5-1.2-0.8-1.9-0.8
			c-1.5,0.1-2.8,0.8-3.6,2.1c-1.2,1.8-2,3.9-2.2,6l-1.5,9.1h-4.4l3.4-20.2h4.1l-0.8,4.7c1.2-2.4,2.4-3.8,3.5-4.4
			c1-0.5,2-0.8,3.1-0.9c3-0.1,5.4,2.3,5.5,5.2c0,0.2,0,0.3,0,0.5c0,1.1-0.2,2.3-0.4,3.4L183.8,297.6z"/>
		<path class="st2" d="M206.2,291.6c-1.9,4.3-4.8,6.4-8.6,6.4c-2.2,0.1-4.3-0.8-5.8-2.4c-1.6-1.9-2.4-4.3-2.2-6.7
			c-0.1-3.1,0.9-6.1,2.8-8.5c1.6-2.3,4.2-3.6,6.9-3.6c1.9-0.1,3.8,0.6,5.3,1.8c1.5,1.4,2.4,3.2,2.7,5.2l-3.8,0.7c-0.5-2.7-1.9-4-4-4
			c-1.6,0-2.8,0.9-3.8,2.7c-1,1.9-1.5,4-1.5,6.1c-0.1,1.3,0.3,2.7,1.1,3.8c0.7,0.7,1.6,1.1,2.6,1.1c2,0,3.5-1.3,4.5-4L206.2,291.6z"
        />
		<path class="st2" d="M213.4,297.6h-4.7l3.4-20.2h4.7L213.4,297.6z M217.1,275.1h-4.7l0.8-4.9h4.7L217.1,275.1z"/>
		<path class="st2" d="M236.5,291.9c-1.9,4.1-4.8,6.2-8.8,6.2c-2.3,0.1-4.6-0.8-6.2-2.5c-1.6-1.8-2.4-4.1-2.3-6.5
			c-0.1-3.2,0.9-6.2,2.9-8.7c1.8-2.3,4.5-3.6,7.4-3.6c2.3-0.2,4.6,0.8,6.1,2.6c1.5,2,2.2,4.5,2.1,7c0,0.5,0,1-0.1,1.6h-13.9
			c-0.1,0.5-0.1,1-0.1,1.5c-0.1,1.3,0.3,2.6,1.1,3.7c0.8,0.9,1.9,1.5,3.1,1.4c2.1,0,3.7-1.2,4.8-3.8L236.5,291.9z M233.4,285.1
			c0-3.4-1.3-5.1-4-5.1c-2.7,0-4.5,1.7-5.3,5.1H233.4z"/>
		<path class="st2" d="M244.5,297.6H240l3.4-20.2h4.1l-0.9,5.5c1.7-4,4.1-6.1,7-6.1h0.5l-0.6,5h-1c-1.1,0-2.2,0.3-3.1,0.9
			c-1,0.6-1.7,1.4-2.3,2.4c-0.7,1.5-1.2,3.2-1.4,4.9L244.5,297.6z"/>
	</g>
</g>
</svg>
              </span>
        <span class="app-brand-text demo menu-text fw-bolder orange ms-2 capitalize-first2">Dirha</span>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse  " id="navbarSupportedContent">
        <ul class="navbar-nav me-auto px-lg-5  mb-2 mb-lg-0"  >
          <!--Mes T√¢ches-->
          <li class="nav-item">
            <a class=" btn  Mycolor" th:href="@{/}" style="display: flex; align-items: center;">
              <i class="menu-icon tf-icons bx bx-task me-1" style="margin-right: 5px;"></i>
              <div data-i18n="Analytics">Mes T√¢ches</div>
            </a>
          </li>
          <!--Suivie Des T√¢ches-->
          <li class="nav-item">
            <a class="btn  btn-light" th:href="@{/CreerTache}" style="display: flex; align-items: center;">
              <i class="menu-icon tf-icons bx bx-copy-alt me-1" style="margin-right: 5px;"></i>
              <div data-i18n="Analytics">Suivie Des T√¢ches</div>
            </a>
          </li>
          <!--Button Cr√©er Une T√¢che-->
          <li class="nav-item">
            <!-- Vertically Centered Modal -->
            <!-- Button trigger modal -->
            <button
                    type="button"
                    class="btn Mycolor"
                    data-bs-toggle="modal"
                    data-bs-target="#exLargeModal"
                    id="creertache"
                    onclick="annuler()"
            >
              <i class="bx bx-add-to-queue me-1"></i> Cr√©er Une T√¢che
            </button>
          </li>
          <!---->

        </ul>

        <div class="navbar-nav d-flex">
          <ul class="navbar-nav d-flex align-items-center">


            <!--Menu-->
            <!--Menu-->
            <!--Menu-->
            <li class="nav-item navbar-dropdown dropdown-user dropdown">
              <button type="button" class="btn btn-icon Mycolor  dropdown-toggle " data-bs-auto-close="outside" data-bs-toggle="dropdown">
                <i class="bx bx-list-ul me-2" style="font-size: 25px;color: #FFFFFF"></i>

              </button>
              <ul class="dropdown-menu dropdown-menu-sm-end py-0  mb-4">
                <li><a class="dropdown-item" th:href="@{/Memoir}">
                  <i class='bx bx-notepad'></i> M√©moire
                </a></li>
                <!-- Mon Equipe -->
                <li class="nav-item">
                  <a class="dropdown-item" th:href="@{/MonEquipe}">
                    <i class="bx bxs-user-account"></i> Mon √âquipe
                  </a>
                </li>
                <!-- Admin -->
                <li class="dropdown-submenu" sec:authorize="hasAnyRole('ADMIN')">
                  <a class="dropdown-item dropdown-toggle"  data-bs-toggle="dropdown" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                      <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                    </svg> Admin
                  </a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" th:href="@{/gestUtilisateur}">
                      <i class="bx bx-group me-1"></i> Comptes
                    </a></li>
                    <li><a class="dropdown-item" th:href="@{/societe}">
                      <i class="bx bx-buildings me-1"></i> Societes
                    </a></li>
                    <li><a class="dropdown-item" th:href="@{/domaine}">
                      <i class="bx bx-briefcase me-1"></i> Services
                    </a></li>
                    <li><a class="dropdown-item" th:href="@{/departement}">
                      <i class="bx bxs-institution me-1"></i> Departements
                    </a></li>
                    <li><a class="dropdown-item" th:href="@{/gestionEquipe}">
                      <i class="bx bxs-user-account me-1"></i> Equipes
                    </a></li>
                    <li><a class="dropdown-item" th:href="@{/GestionTacheAdmin}">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ui-checks" viewBox="0 0 16 16">
                        <path d="M7 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zM2 1a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm0 8a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2zm.854-3.646a.5.5 0 0 1-.708 0l-1-1a.5.5 0 1 1 .708-.708l.646.647 1.646-1.647a.5.5 0 1 1 .708.708zm0 8a.5.5 0 0 1-.708 0l-1-1a.5.5 0 0 1 .708-.708l.646.647 1.646-1.647a.5.5 0 0 1 .708.708zM7 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
                      </svg> T√¢ches
                    </a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <!--/Menu-->
            <!--/Menu-->
            <!--Menu-->

            <!--notif-->
            <li class="nav-item navbar-dropdown dropdown-user dropdown">
              <button onclick="readNotif()" type="button" class="btn btn-icon Mycolor position-relative dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                <i class="bx bxs-bell-ring me-2" style="font-size: 25px;color: #FFFFFF"></i>
                <span id="spanNotifNum" class="badge nav-pills badge-notification bg-danger" th:value="${nbrNotifNonLu}" th:text="${nbrNotifNonLu}"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-end py-0 overflow-auto mb-4" id="vertical-example" style="width: 400px; max-height: 500px;">
                <li class="dropdown-menu-header border-bottom">
                  <div class="dropdown-header d-flex align-items-center py-3">
                    <h5 class="text-body mb-0 me-auto">notifications</h5>
                    <a href="javascript:void(0);" class="dropdown-notifications-all text-body" data-bs-toggle="tooltip" data-bs-placement="top" aria-label="Mark All as read" data-bs-original-title="Mark All as read">
                      <i class="bx bx-envelope-open"></i>
                    </a>
                  </div>
                </li>
                <div class="notification-list-wrapper"> <!-- Wrapper with fixed height for scroll -->
                  <li class="dropdown-notifications-list scrollable-container ps" th:each="p, iterStat : ${notificationList}">
                    <ul class="list-group list-group-flush">
                      <li th:class="${p.estLu == true ? 'list-group-item list-group-item-action dropdown-notifications-item marked-as-read' : 'list-group-item list-group-item-action dropdown-notifications-item marked-as-read bg-secondary text-white '}">
                        <div class="d-flex">
                          <div class="flex-shrink-0 me-3">
                            <div class="avatar">
                              <img src="img/1.png" alt="" class="w-px-40 h-auto rounded-circle">
                            </div>
                          </div>
                          <div class="flex-grow-1">
                            <h6 th:class="${p.estLu == true ? 'mb-1' : ' mb-1 text-white '}" th:text="${p.emetteur.prenom+' '+p.emetteur.nom+' üîî'}"> </h6>
                            <p class="mb-0" th:text="${p.detail}"></p>
                            <small th:class="${p.estLu == true ? 'text-muted' : ' text-white '}" th:utext="${#temporals.format(p.datenotif, 'dd-MM-yyyy HH:mm:ss')}"></small>
                          </div>
                          <div class="flex-shrink-0 dropdown-notifications-actions">
                          </div>
                        </div>
                      </li>
                    </ul>
                  </li>
                </div>
              </ul>
            </li>
            <!--/notif-->

            <!-- User -->
            <li class="nav-item navbar-dropdown dropdown-user dropdown">
              <a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown">
                <div class="avatar avatar-online">
                  <img src="img/1.png" alt class="w-px-40 h-auto rounded-circle" />
                </div>
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li>
                  <a class="dropdown-item" th:href="@{/MonProfile}">
                    <div class="d-flex">
                      <div class="flex-shrink-0 me-3">
                        <div class="avatar avatar-online">
                          <img src="img/1.png" alt class="w-px-40 h-auto rounded-circle" />
                        </div>
                      </div>
                      <div class="flex-grow-1">
                        <span class="fw-semibold d-block" sec:authentication="name"></span>
                        <small class="text-muted" th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">Administrateur</small>
                        <small class="text-muted" th:unless="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">Utilisateur</small>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <div class="dropdown-divider"></div>
                </li>
                <li>
                  <form class="dropdown-item" th:action="@{/logout}" method="post">
                    <button class="btn btn-primary float-right w-100" type="submit"> <i class="bx bx-power-off me-2"></i>D√©connexion</button>
                  </form>
                </li>
              </ul>
            </li>
            <!--/ User -->
          </ul>
        </div>


      </div>
    </div>
  </nav>

</div>
<!--/nav-->



<div class="d-flex justify-content-between ">
  <!--chemin-->
  <p class="fw-bold my-primary"  style="margin-left: 20px;">
        <span class="text-muted fw-light my-primary ">
         <i class="bx bx-cog " style="margin-right: 5px;"></i>
            Administration /</span>
    <i class="bx bx-group me-1"></i> Comptes
  </p>
  <!--/chemin-->
  <ul class="nav nav-pills flex-column flex-md-row " style="margin-right: 20px;">
    <li>
      <!-- Vertically Centered Modal -->
      <!-- Button trigger modal -->
      <button
              type="button"
              class="btn btn-sm me-1 mb-1 btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#modalCenter"
              id="creercompte"
              onclick="annuler()"
      >
        <i class="bx bx-add-to-queue me-1"></i> Cr√©er un compte
      </button>
    </li>

  </ul>

</div>

<!-- content div-->
<div class="container-fluid h-auto">
  <div class="content-wrapper">
    <!-- Content -->
    <div class="container-xxl flex-grow-1 " STYLE="padding-top: 0px;margin-top: 2px;padding:0px;">

      <div class="row">
        <div class="col-md-12">

          <!-- Modal -->
          <div class="modal fade" id="modalCenter" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form id="formAccountSettings" th:action="@{CreateUtilisateur}"  th:object="${utilisateur}" method="post" >
                    <input type="hidden" class="form-control" name="idutilisateur">
                    <div class="row">
                      <div class="mb-3 col-md-6">
                        <label for="firstName" class="form-label">nom</label>
                        <input
                                class="form-control"
                                type="text"
                                id="firstName"
                                name="nom"
                                placeholder="nom"
                                autofocus
                                required="required"
                        />
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="firstName" class="form-label">prenom</label>
                        <input
                                class="form-control"
                                type="text"
                                id="prenom"
                                name="prenom"
                                placeholder="prenom"
                                required="required"
                        />
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="email" class="form-label">E-mail</label>
                        <input
                                class="form-control"
                                type="email"
                                id="email"
                                name="mail"
                                placeholder="example@gmail.com"
                                required="required"
                        />
                      </div>
                      <div class="mb-3 col-md-6">
                        <label  class="form-label">Mot De Passe</label>
                        <div class="input-group input-group-merge">
                          <input
                                  type="password"
                                  id="password"
                                  class="form-control"
                                  name="motdepasse"
                                  placeholder="&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;&#xb7;"
                                  aria-describedby="password"
                          />
                          <span class="input-group-text cursor-pointer"><i class="bx bx-hide"></i></span>
                        </div>
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="domaine" class="form-label">Service</label>
                        <select id="domaine"  class="select2 form-select" name="Domaine.iddomaine">
                          <option th:each="p:${domaineList}" th:value="${p.iddomaine}" th:text="${p.nomdomaine}" ></option>
                        </select>
                      </div>
                      <div class="mb-3 col-md-6">
                        <label for="societeSelect" class="form-label">Soci√©t√©</label>
                        <div   class="input-group">
                          <select required="required" class="form-select" id="societeSelect" name="Societe.idsociete">
                            <option value="" >Selectionnez une soci√©t√©</option>
                            <option th:each="p:${societeList}" th:value="${p.idsociete}" th:text="${p.nomsociete}"></option>
                          </select>
                        </div>
                      </div>

                      <div class="mb-3 col-md-6">
                        <label for="departementSelect" class="form-label">Departement</label>
                        <select id="departementSelect"  class="select2 form-select" name="Departement.iddepartement">
                          <!--les departement s'affiche quand tu selectione une societe (a partir de ajaxe ) voir le script dans MyScript.js   -->
                        </select>
                      </div>


                      <div class="mb-3 col-md-6">
                        <label for="language" class="form-label">Role</label>
                        <select  id="language" class="select2 form-select" name="Role.idrole">
                          <option th:each="p:${roles}" th:value="${p.idrole}" th:text="${p.role}"></option>
                        </select>
                      </div>

                      <div class="mb-3 col-md-6">
                        <label class="form-label" for="actif">Statut du compte : actif. </label>
                        <input id="actif" type="checkbox" checked  name="actif" >
                      </div>

                    </div>

                    <div class="mt-2">
                      <button type="submit" class="btn btn-primary me-2">Cr√©er</button>
                      <button type="reset"
                              class="btn btn-outline-secondary"
                              onclick="annuler()"
                              data-bs-dismiss="modal"
                      >Annuler</button>
                      <!--<button type="button" class="btn btn-outline-secondary" >
                        Close
                      </button>-->
                    </div>
                  </form>
                </div>

              </div>
            </div>
          </div>


        </div>

          <div class="card">
            <div class="card-body">
              <div  th:if="${not #strings.isEmpty(msg) or not #strings.isEmpty(msgError)  or not #strings.isEmpty(msg2) }" id="messages" class="mb-3 col-md-12">

                <div th:if="${not #strings.isEmpty(msg)}" class="form-group">
                  <div class="alert alert-success" th:text="${msg}"></div>
                </div>
                <div th:if="${not #strings.isEmpty(msgError)}" class="form-group">
                  <div class="alert alert-danger" th:text="${msgError}"></div>
                </div>
                <div th:if="${not #strings.isEmpty(msg2)}" class="form-group">
                  <div class="alert alert-success" th:text="${msg2}"></div>
                </div>
              </div>
              <div class="table-responsive text-nowrap">
                <!-- Extra Large Modal pour Creer une Tache -->
                <div class="modal fade" id="exLargeModal" tabindex="-1" aria-hidden="true" style="padding-top: 170px">
                  <div class="modal-dialog modal-xl" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button
                                type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"
                        ></button>
                      </div>
                      <div class="modal-body">
                        <form id="formAccountSettings2" method="POST" th:action="@{CreateTache}">
                          <input type="hidden" class="form-control" name="idtache">
                          <input type="hidden" th:value="${utilisateurC.idutilisateur}" class="form-control"
                                 name="Utilisateur">
                          <input type="hidden" name="ismemoire" id="ismemoire" value="false" required/>

                          <div class="d-flex align-content-between justify-content-between flex-wrap  pr-0 pl-0">
                            <!-- Premi√®re div pour le destinataire -->
                            <div class="d-flex justify-content-evenly align-content-center">
                              <label for="idrecepteur" class="form-label align-content-center  "
                                     STYLE="margin-right: 15px;">Destinataire</label>
                              <select id="idrecepteur" name="recepteur" class="select2 form-select w-px-250" required>
                                <option th:each="p:${Recepteurs}" th:value="${p.idutilisateur}"
                                        th:text="${p.prenom + ' ' + p.nom}"></option>
                              </select>
                            </div>


                            <!-- Deuxi√®me div pour la t√¢che √† r√©aliser -->
                            <div class="d-flex justify-content-evenly">
                              <label for="nomtache" class="form-label align-content-center"
                                     STYLE="margin-right: 15px;">T√¢che √† r√©aliser</label>
                              <input type="text" class="form-control w-px-250" name="nomtache" id="nomtache" required>
                            </div>

                            <!-- Troisi√®me div pour la dur√©e estim√©e -->
                            <div class="d-flex justify-content-evenly">
                              <label class="form-label align-content-center" for="dureeEstimee"
                                     STYLE="margin-right: 15px;">EN</label>
                              <div class="d-flex">
                                <input type="number" placeholder="Dur√©e Estim√©e " id="dureeEstimee" required min="1"
                                       name="dureestime" class="form-control"/>
                                <label class="form-label align-content-center" for="dureeEstimee"
                                       STYLE="margin-left: 10px;">Jour(s)</label>
                              </div>
                            </div>
                          </div>

                          <br>
                          <div class="row g-3">

                            <div class="col mb-0">
                              <label for="Priorite" class="form-label">Priorit√©</label>
                              <select id="Priorite" class="select2 form-select" name="priorite" required>
                                <option th:each="p:${priorites}" th:value="${p.idpriorite}"
                                        th:text="${p.nompriorite}"></option>
                              </select>
                            </div>

                            <div class="col mb-0">
                              <label for="DateOuverture" class="form-label">Date Ouverture</label>
                              <input class="form-control" type="date" name="dateouverture" min="" id="DateOuverture"
                                     required>
                            </div>

                            <div class="col mb-0">
                              <label for="Proprietaires" class="form-label">Propri√©taire</label>
                              <select id="Proprietaires" name="proprietaire" class="select2 form-select"
                                      required="required" th:with="selectedValue=${utilisateurC.idutilisateur}">
                                <option th:each="p:${utilisateurList2}" th:value="${p.idutilisateur}"
                                        th:selected="${selectedValue == p.idutilisateur}"
                                        th:text="${p.prenom + ' ' + p.nom}"></option>
                              </select>
                            </div>
                            <div class="col mb-0">
                              <label for="tacheparente" class="form-label">T√¢che parente</label>
                              <select id="tacheparente" class="select2 form-select" name="tacheparente">
                                <!-- <option  value="">Selectionner la t√¢che parente</option>
                                 <option th:each="TacheParents:${lesTacheParents}" th:value="${TacheParents.idtache}" th:text="${TacheParents.nomtache}"></option>-->
                              </select>
                            </div>

                            <div class="col mb-0">
                              <label for="type" class="form-label">Type</label>
                              <select class="select2 form-select" required="required"  id="type" name="type">
                                <option value="Op√©rationnel">Op√©rationnel</option>
                                <option value="Projet">Projet</option>
                              </select>
                            </div>

                            <div class="col mb-0">
                              <label class="form-label" for="Aunetachesuccessive">T√¢che index√©e</label>
                              <select class="select2 form-select" required="required" id="Aunetachesuccessive" name="aunetachesuccessive">
                                <option value="false">Non</option>
                                <option value="true">Oui</option>
                              </select>
                            </div>

                            <div class="col mb-0" style="padding-top: 30px;">
                              <button type="submit" id="submit2" class="btn btn-primary "> Envoyer</button>
                              <button type="button"
                                      class="btn btn-outline-secondary"
                                      onclick="annuler2()"
                              >Annuler
                              </button>
                            </div>
                          </div>

                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                <!--/ Extra Large Modal pour Creer une Tache -->

                <table class="table table-bordered table-sm table-secondary" id="example" style="width:100%">
                  <thead>
                  <tr>
                    <th class="capitalize-first Mycolor" >Nom</th>
                    <th class="capitalize-first Mycolor"  >prenom</th>
                    <th class="capitalize-first Mycolor" >Email</th>
                    <th class="capitalize-first Mycolor" >soci√©t√©</th>
                    <th  class="capitalize-first Mycolor" >departement</th>
                    <th  class="capitalize-first Mycolor" >Service</th>
                    <th class="capitalize-first Mycolor" >Role</th>
                    <th class="capitalize-first Mycolor" >Actif</th>
                    <th class="capitalize-first Mycolor" >Actions</th>
                  </tr>
                  </thead>
                  <tbody class="table-border">
                  <tr th:each="p:${utilisateurList}">
                    <td th:text="${p.nom}" ></td>
                    <td th:text="${p.prenom}"  ></td>
                    <td  th:text="${p.mail}" ></td>
                    <td th:text="${p.societe != null ? p.societe.nomsociete : ''}"></td>
                    <td th:text="${p.departement != null ? p.departement.nomdepartement : ''}"></td>
                    <td th:text="${p.domaine != null ? p.domaine.nomdomaine : ''}"></td>
                    <td th:text="${p.role != null ? p.role.role:''}"></td>
                    <td th:text="${p.actif == true  ? '‚úî':'‚úò'}"></td>
                    <td>
                      <div class="dropdown">
                        <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
                          <i class="bx bx-dots-vertical-rounded"></i>
                        </button>
                        <div class="dropdown-menu">
                          <a class="dropdown-item"  th:attr="data-id=${p.idutilisateur}" onclick="editUtilisateur(this)"
                          ><i class="bx bx-edit-alt me-2"></i> √âditer</a
                          >
                          <a class="dropdown-item" onclick="confirmDelete(event)"  th:href="@{/deleteUtilisateur/{id}(id=${p.idutilisateur})}"
                          ><i class="bx bx-trash me-2"></i> Supprimer</a
                          >
                        </div>
                      </div>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <!-- /content-->
  </div>
  <!--/ content div-->



<!-- Core JS -->
<!-- build:js assets/vendor/js/core.js -->
<script src="js/jquery.js"></script>
<script src="js/popper.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/perfect-scrollbar.js"></script>

<script src="js/menu.js"></script>
<!-- endbuild -->

<!-- Vendors JS -->
<script src="js/apexcharts.js"></script>

<!-- Main JS -->
<script src="js/main.js"></script>

<!-- Page JS -->
<script src="js/dashboards-analytics.js"></script>
<script src="js/pages-account-settings-account.js"></script>
<script src="js/myJs.js"></script>
<!-- liens pour les websoket + Stom . -->
<script src="js/jquery.min.js"></script>
<script src="js/sockjs.min.js"></script>
<script src="js/stomp.min.js" ></script>
<!-- le script des websoket notification. -->
<script src="js/notifWebSocket.js"></script>

<!-- Data table -->
<script src="js/datatables.min.js"></script>
<script src="js/MyDatatableConf.js"></script>

<!--scripts-->
<script type="text/javascript">





//1--Pour filtrer les departements par societe
  $(document).ready(function() {
    $("#societeSelect").change(function() {
      var selectedSocieteId = $(this).val();
      if(selectedSocieteId=="")
      {
        document.getElementById("departementSelect").innerHTML = "";
      }
      updateDepartementOptions(selectedSocieteId);
    });

    function updateDepartementOptions(selectedSocieteId) {
      // Utilisez AJAX pour obtenir la liste des d√©partements de la soci√©t√© s√©lectionn√©e depuis le serveur
      $.ajax({
        type: "GET",
        url: "get-departements-by-societe/" + selectedSocieteId, // Remplacez cette URL par votre endpoint
        success: function(data) {
          var departementSelect = $("#departementSelect");
          departementSelect.empty(); // Efface toutes les options actuelles

          // Ajoutez les nouvelles options bas√©es sur les donn√©es re√ßues
          for (var i = 0; i < data.length; i++) {
            departementSelect.append(new Option(data[i].nomdepartement, data[i].iddepartement));
          }
        }
      });
    }
  });


  //2--Pour editer un utilisateur dans la meme formulaire
  function editUtilisateur(button) {

    afficherFormulaireCreeCompte();

    const idUtilisateur = button.getAttribute("data-id");
    const form = document.getElementById("formAccountSettings");

    // Set the idDepartement input field value and update the button text
    form.querySelector("input[name='idutilisateur']").value = idUtilisateur;
    form.querySelector("button[type='submit']").textContent = "Mettre √† jour";

    // Fetch utilisateur details using AJAX
    $.ajax({
      type: "GET", // You may need to adjust this to your backend API
      url: `get-Utilisaeur/${idUtilisateur}`, // Replace with your API endpoint
      success: function(data) {
        // Assuming your API returns data in JSON format
        const nom = data.nom;
        const prenom = data.prenom;
        const motDepasse = data.motdepasse;
        const mail = data.mail;
        //console.log(data);

        // Pre-fill the form fields
        form.querySelector("input[name='nom']").value = nom;
        form.querySelector("input[name='prenom']").value = prenom;
        form.querySelector("input[name='motdepasse']").value = motDepasse;
        form.querySelector("input[name='mail']").value = mail;


        if (data.actif === false) {
          form.querySelector("input[name='actif']").removeAttribute("checked");
        } else {
          form.querySelector("input[name='actif']").setAttribute("checked", "checked");
        }

        // Pre-select the Societe in the dropdown
        const select3 = form.querySelector("select[name='Role.idrole']");

        if (data.role != null) {

          const RoleId = data.role.idrole;
          console.log(RoleId);
          const RoleOption2 = select3.querySelector(`option[value="${RoleId}"]`);
          //supprimer l'attribut selected de Societe
          RoleOption2.removeAttribute("selected");
          //donne la valeur selected pour l'attribut selected
          RoleOption2.setAttribute("selected", "selected");

        }


        // Pre-select the Societe in the dropdown
        const select2 = form.querySelector("select[name='Societe.idsociete']");

        //si l utilisateur a une societ√©
        if(data.societe!=null)
        {
          const SocieteId = data.societe.idsociete;
          const SocieteOption2 = select2.querySelector(`option[value="${SocieteId}"]`);
          //supprimer l'attribut selected de Societe
          SocieteOption2.removeAttribute("selected");
          //donne la valeur selected pour l'attribut selected
          SocieteOption2.setAttribute("selected", "selected");


          // Pre-select the Domaine in the dropdown
          const select = form.querySelector("select[name='Domaine.iddomaine']");
          //si l utilisateur a une societ√©
          if (data.domaine!=null)
          {
            const DomaineId = data.domaine.iddomaine;
            const DomaineOption = select.querySelector(`option[value="${DomaineId}"]`);
            //supprimer l'attribut selected du Domaine
            DomaineOption.removeAttribute("selected", "selected");
            //donne la valeur selected pour l'attribut selected
            DomaineOption.setAttribute("selected", "selected");
          }

          //si l utilisateur n'a aucune departement
          if (data.departement!=null)
          {
            //un variable pour stocke l'id de departement de l'utilisateur edit√©;
            const DepartementId = data.departement.iddepartement;

            //fonction pour parcourir les Departement de l utilisateur par l idSociete de lutilisateur edit√©;
            function updateDepartementOptions(SocieteId) {
              // Utilisez AJAX pour obtenir la liste des d√©partements de la soci√©t√© s√©lectionn√©e depuis le serveur
              $.ajax({
                type: "GET",
                url: "get-departements-by-societe/" + SocieteId, //  endpoint
                success: function(data1) {
                  var departementSelect = $("#departementSelect");
                  departementSelect.empty(); // Efface toutes les options actuelles

                  // Ajoutez les nouvelles options bas√©es sur les donn√©es re√ßues
                  for (var i = 0; i < data1.length; i++) {
                    departementSelect.append(new Option(data1[i].nomdepartement, data1[i].iddepartement));
                    // si l'iddepartement de la societe de l utilisateur idit√® = la departement de l utilisateur edit√©;
                    if( DepartementId==data1[i].iddepartement)
                    {// Pre-select the Departement in the dropdown
                      const select3 = form.querySelector("select[name='Departement.iddepartement']");
                      const DepartemenOption = select3.querySelector(`option[value="${DepartementId}"]`);
                      DepartemenOption.setAttribute("selected", "selected");
                    }
                  }
                }
              });
            }
            updateDepartementOptions(SocieteId)
          }
          //si l utilisateur n'a acune departement
          else
          {
            //fonction pour parcourir les Departement de l utilisateur par l idSociete de lutilisateur edit√©;
            function updateDepartementOptions(SocieteId) {
              // Utilisez AJAX pour obtenir la liste des d√©partements de la soci√©t√© s√©lectionn√©e depuis le serveur
              $.ajax({
                type: "GET",
                url: "get-departements-by-societe/" + SocieteId, //  endpoint
                success: function(data1) {
                  var departementSelect = $("#departementSelect");
                  departementSelect.empty(); // Efface toutes les options actuelles

                  // Ajoutez les nouvelles options bas√©es sur les donn√©es re√ßues
                  for (var i = 0; i < data1.length; i++) {
                    departementSelect.append(new Option(data1[i].nomdepartement, data1[i].iddepartement));
                  }
                }
              });
            }
            updateDepartementOptions(SocieteId)
          }

        }


      },
      error: function(err) {
        // Handle the error if needed
        console.error(err);
      }
    });



  }

function afficherFormulaireCreeCompte(){
  //pour afficher le form
  // R√©cup√©rer l'√©l√©ment du bouton par son attribut 'class'
  var bouton = document.getElementById("creercompte");

  // V√©rifier si le bouton a √©t√© trouv√©
  if (bouton) {
    // D√©clencher le clic sur le bouton
    bouton.click();
  } else {
    console.error('Le bouton n\'a pas √©t√© trouv√©.');
  }

  //srcipt permet de d√©filer la page vers le haut lorsque l'utilisateur clique sur un bouton
  // Faites d√©filer la page vers le haut
  window.scrollTo({
    top: 0, // La position en pixels en haut de la page
    behavior: "smooth" // Option pour un d√©filement fluide
  });
}

  function annuler()
  {
    // R√©cup√©rer l'√©l√©ment du formulaire par son ID
    var formulaire = document.getElementById('formAccountSettings');

    // V√©rifier si le formulaire a √©t√© trouv√©
    if (formulaire) {
      // R√©initialiser le formulaire
      formulaire.reset();

      if ( formulaire.querySelector("button[type='submit']").textContent === "Mettre √† jour") {
        formulaire.querySelector("button[type='submit']").textContent = "Cr√©er";}

      const idTacheInput = formulaire.querySelector(`input[name='idutilisateur']`);
      idTacheInput.value=null;
      idTacheInput.textContent="";

    } else {
      console.error('Le formulaire n\'a pas √©t√© trouv√©.');
    }
  }



  //--------------------pour le formulaire Creer une t√¢che
  //Pour afficher les taches parentes dans
  // la selelecte dans le formulaire qui permet de creer une tache et actualiser la liste lorsqu'une indexation
  tacheParentes();
  function tacheParentes() {
    $.ajax({
      url: `tachesParentes/`,
      method: 'GET',
      success: function (taches) {

        var tachesParentSelect = $("#tacheparente");
        tachesParentSelect.empty(); // Efface toutes les options actuelles
        tachesParentSelect.append (new Option("Selectionner la t√¢che parente",-1));
        for (var i = 0; i < taches.length; i++) {
          var option = new Option(taches[i].nomtache, taches[i].idtache);
          tachesParentSelect.append(option);
        }
      }
    });
  }

  function annuler2() {

    // R√©cup√©rer l'√©l√©ment du formulaire par son ID
    var formulaire = document.getElementById('formAccountSettings2');
    var   btnSubmit= document.getElementById('submit2');
    var inputEDateOuverture = document.getElementById("DateOuverture");

    // V√©rifier si le formulaire a √©t√© trouv√©
    if (formulaire) {
      // R√©initialiser le formulaire
      formulaire.reset();

      if ( btnSubmit.textContent === "Mettre √† jour") {btnSubmit.textContent = "Envoyer";}

      // Pre-select the Proprietaire in the dropdown
      const select1 = formulaire.querySelector("select[name='proprietaire']");
      select1.removeAttribute("readonly");
      select1.onmousedown = null;
      select1.style.cursor = "default";

      // Pre-select the Recepteur in the dropdown
      const select = formulaire.querySelector("select[name='recepteur']");
      select.removeAttribute("readonly");
      select.onmousedown = null;
      select.style.cursor = "default";

      //remove Disable editing and selection for nomtache
      const inputField = formulaire.querySelector(`input[name='nomtache']`);
      inputField.removeAttribute("readonly");
      inputField.onmousedown = null; // Supprimer l'√©v√©nement onmousedown
      inputField.style.cursor = "text"; // Changer le style du curseur en mode √©dition

      const idTacheInput = formulaire.querySelector(`input[name='idtache']`);
      idTacheInput.value=null;
      idTacheInput.textContent="";


      // Disable editing and selection for tacheparente
      const selec = formulaire.querySelector("select[name='tacheparente']");
      selec.removeAttribute("readonly");
      selec.onmousedown = null;
      selec.style.cursor = "default";

      //Date d ouverture
      const inputEDateOuverture = formulaire.querySelector(`input[name='dateouverture']`);
      inputEDateOuverture.removeAttribute("readonly");
      inputEDateOuverture.onmousedown = null;
      inputEDateOuverture.style.cursor = "default";
      inputEDateOuverture.disabled=false;
      inputEDateOuverture.onmousedown = null; // Supprimer l'√©v√©nement onmousedown
      //inputEDateOuverture.style.cursor = "text"; // Changer le style du curseur en mode √©dition
      dateOuvertureactuelle();
    } else {
      console.error('Le formulaire n\'a pas √©t√© trouv√©.');
    }
  }

  //pour regler la douverture
  dateOuvertureactuelle();
  function dateOuvertureactuelle(){
    //pour la date douverture
    // Obtenez la date actuelle au format YYYY-MM-DD
    var currentDate = new Date().toISOString().split('T')[0];

    // Mettez √† jour l'attribut 'min' du champ de saisie de date avec la date actuelle
    document.getElementById('DateOuverture').min = currentDate;

    // Mettez √† jour l'attribut 'value' du champ de saisie de date avec la date actuelle
    document.getElementById('DateOuverture').value = currentDate;
  }

// S√©lectionnez tous les √©l√©ments avec la classe "show-message"
var messageElements = document.querySelectorAll('.show-message');

// Parcourir chaque √©l√©ment et ajouter la classe "show" (pour l'animation)
messageElements.forEach(function(element) {
  element.classList.add('show');

  // Supprimer la classe "show" apr√®s 5 secondes
  setTimeout(function() {
    element.classList.remove('show');
  }, 5000);
});
// S√©lectionnez l'√©l√©ment avec l'id "messages"
var messagesDiv = document.getElementById("messages");

// Supprimez la div apr√®s 5 secondes (5000 millisecondes)
setTimeout(function() {
  if (messagesDiv) {
    messagesDiv.remove();
  }
}, 5500);




</script>


</body>

